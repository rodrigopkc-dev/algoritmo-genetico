Este relatório técnico apresenta uma análise especializada dos resultados obtidos pela aplicação de um Algoritmo Genético (AG) ao Problema do Caixeiro Viajante com Restrições (Constrained TSP).

---

### **Relatório de Análise Técnica: Otimização de Roteirização com AG**

#### **1. Eficiência de Convergência e Esforço Computacional**
A execução atingiu a marca de **6.000 gerações**. Em Pesquisa Operacional, o esforço computacional deve ser balanceado entre o *exploration* (busca global) e o *exploitation* (refinamento local).
*   **Análise:** O fato de o algoritmo ter percorrido 6.000 gerações sugere um espaço de busca altamente complexo e multidimensional, exacerbado pelas restrições de autonomia e janelas de tempo. 
*   **Indicador:** Se o `found_at_generation` estiver próximo de 6.000, o algoritmo ainda estava em processo de melhoria, indicando que a convergência prematura não foi o problema, mas sim a dificuldade de encontrar uma zona de factibilidade. Se foi encontrado muito antes (ex: geração 1.000), o algoritmo estagnou em um **ótimo local**, sendo incapaz de escapar dele nas 5.000 gerações subsequentes.

#### **2. Decomposição do Custo: Realidade vs. Penalidade**
A métrica mais crítica deste resultado é a discrepância entre a distância física e o custo total:
*   **Custo Total (Best Cost):** 620.761,10
*   **Distância Real:** 61.195,37 (apenas ~9,8% do custo total)
*   **Penalidades:** 559.565,73 (aprox. **90,2% do custo total**)

**Interpretação de Viabilidade:**
Embora o custo não chegue à casa dos bilhões, o "peso" das penalidades é esmagador. Em modelagem matemática, isso indica que a solução é **operacionalmente inviável ou de baixíssima qualidade**. O algoritmo priorizou o cumprimento da rota em detrimento das restrições de tempo de entrega ou prioridades das cidades. 
*   O AG encontrou um caminho que "conecta os pontos", mas falhou em satisfazer as *hard constraints* (prazos e prioridades). O custo elevado é um sinal de que o veículo está chegando muito atrasado às cidades ou desrespeitando a ordem de prioridade exigida.

#### **3. Logística e Roteirização: Estrutura do `full_path_with_bases`**
A análise do caminho completo revela a estratégia logística adotada para lidar com a **autonomia limitada**:
*   **Uso de Bases:** Observamos a inserção estratégica de pontos de apoio (Bases 30, 47, 20). O trajeto não é um ciclo simples, mas sim um modelo de **Multi-Trip**, onde o veículo retorna ou passa por bases para reabastecimento.
*   **Paradas de Reabastecimento (7 paradas):** O número de paradas é coerente com a distância total (61k), sugerindo que a restrição de autonomia é severa. 
*   **Segmentação:** O caminho mostra clusters de entrega. Por exemplo, após a base 47, o veículo atende as cidades `[3, 34, 44, 9, 23, 4]` antes de retornar à base 47. Isso demonstra que a lógica de *clustering* geográfico está funcionando, mas a sequência dentro dos clusters pode estar gerando as penalidades de tempo detectadas na decomposição do custo.

#### **4. Conclusão Técnica e Recomendações**
A solução atual é **insatisfatória** para implementação real. O algoritmo conseguiu resolver o problema geométrico (distância), mas sucumbiu à complexidade das restrições (penalidade).

**Ajustes Sugeridos:**
1.  **Função de Fitness:** O peso (coeficiente) das penalidades pode estar descalibrado. Recomenda-se uma técnica de **Penalidade Dinâmica**, onde o rigor das restrições aumenta conforme as gerações passam, permitindo que o AG explore caminhos "inviáveis" no início para encontrar rotas globais melhores.
2.  **Operadores Genéticos:** Introduzir um operador de *Local Search* (como o 2-opt ou 3-opt) após o crossover. O AG puro tem dificuldade em ajustar pequenos detalhes de sequenciamento que causam grandes penalidades de tempo.
3.  **Hiperparâmetros:** Se houve estagnação precoce, aumentar a **taxa de mutação** ou utilizar uma estratégia de **Elitismo** mais restrita para forçar a diversidade genética.
4.  **Análise de Restrições:** Verificar se o problema não é "super-restrito". Se os tempos de entrega forem fisicamente impossíveis de cumprir com a autonomia dada, nenhuma metaheurística encontrará uma solução de baixo custo.

**Veredito:** O modelo matemático está correto ao apontar o alto custo, mas os parâmetros de busca precisam de refinamento para priorizar a redução das penalidades acima da redução da distância bruta.